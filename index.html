<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>
        <script type="text/javascript" src="d3/d3.v3.js"></script>
        <style>
            .bar { 
               display: inline-block;
               width: 20px;
               height: 75px;
               background-color: teal;
               margin-right: 2px;
            }
        </style>
    </head>
    <body>
      <div id='lorem'>
        lorem ipsum dolor sit amet.
      </div>
      <div class='bar'>
      </div>

      <div id='data'>
      </div>
      <div id='last'>
      </div>
      <p>end.</p>
        <script type="text/javascript">
            // chaining methods:
            d3.select("#lorem").append("p").text("New paragraph!");

            // without chain syntax:
            var body = d3.select("#last");
            var p = body.append("p");
            p.text("New paragraph in div#last");

            // Data
            var dataset = [ 5, 10, 15, 20, 25 ];
            // make a new paragraph for each value in the dataset:
            d3.select("#data").selectAll("p").data(dataset).enter().append("p")
              //.text("Data!");
              //.text(function(d) { return d; }); 
              //.text(function(d) { return "i can count up to:" + d }).style("color", "red"); 
              .text(function(d) { return "i can count up to:" + d }).style("color",
                  function(d) { 
                    if (d > 15) { //Threshold od 15 
                      return "red";
                    } else {
                      return "black";
                    }
                  }); 
              // when chaining methods together, anytime after you call data(),
              // you can create an anonymous function that accepts d as input.
              // The magical data() method ensures that d is set to the 
              // corresponding value in your original data set, given the current element at hand.


            // to give our divs a class of bar, we can use: .attr("class", "bar")
            var divs = d3.select("#data").selectAll("div")
            var divs_bars = divs.data(dataset).enter().append("div").attr("class", "bar")
            // var divs_bars_stil = divs_bars.style("height", function(d) { return d + "px"; });
            var divs_bars_stil = divs_bars.style("height", function(d) { 
                                             var barHeight = d * 5; // scale up by factor 5
                                             return barHeight + "px"; 
                                           });

            divs_bars_stil.text(" ");



        </script>
    </body>
</html>
